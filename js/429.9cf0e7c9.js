"use strict";(self["webpackChunkproject"]=self["webpackChunkproject"]||[]).push([[429],{6470:function(e,t,n){var s=n(4155);function i(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function o(e,t){for(var n,s="",i=0,o=-1,r=0,a=0;a<=e.length;++a){if(a<e.length)n=e.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(o===a-1||1===r);else if(o!==a-1&&2===r){if(s.length<2||2!==i||46!==s.charCodeAt(s.length-1)||46!==s.charCodeAt(s.length-2))if(s.length>2){var l=s.lastIndexOf("/");if(l!==s.length-1){-1===l?(s="",i=0):(s=s.slice(0,l),i=s.length-1-s.lastIndexOf("/")),o=a,r=0;continue}}else if(2===s.length||1===s.length){s="",i=0,o=a,r=0;continue}t&&(s.length>0?s+="/..":s="..",i=2)}else s.length>0?s+="/"+e.slice(o+1,a):s=e.slice(o+1,a),i=a-o-1;o=a,r=0}else 46===n&&-1!==r?++r:r=-1}return s}function r(e,t){var n=t.dir||t.root,s=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+s:n+e+s:s}var a={resolve:function(){for(var e,t="",n=!1,r=arguments.length-1;r>=-1&&!n;r--){var a;r>=0?a=arguments[r]:(void 0===e&&(e=s.cwd()),a=e),i(a),0!==a.length&&(t=a+"/"+t,n=47===a.charCodeAt(0))}return t=o(t,!n),n?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(e){if(i(e),0===e.length)return".";var t=47===e.charCodeAt(0),n=47===e.charCodeAt(e.length-1);return e=o(e,!t),0!==e.length||t||(e="."),e.length>0&&n&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return i(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var n=arguments[t];i(n),n.length>0&&(void 0===e?e=n:e+="/"+n)}return void 0===e?".":a.normalize(e)},relative:function(e,t){if(i(e),i(t),e===t)return"";if(e=a.resolve(e),t=a.resolve(t),e===t)return"";for(var n=1;n<e.length;++n)if(47!==e.charCodeAt(n))break;for(var s=e.length,o=s-n,r=1;r<t.length;++r)if(47!==t.charCodeAt(r))break;for(var l=t.length,c=l-r,h=o<c?o:c,d=-1,u=0;u<=h;++u){if(u===h){if(c>h){if(47===t.charCodeAt(r+u))return t.slice(r+u+1);if(0===u)return t.slice(r+u)}else o>h&&(47===e.charCodeAt(n+u)?d=u:0===u&&(d=0));break}var f=e.charCodeAt(n+u),p=t.charCodeAt(r+u);if(f!==p)break;47===f&&(d=u)}var m="";for(u=n+d+1;u<=s;++u)u!==s&&47!==e.charCodeAt(u)||(0===m.length?m+="..":m+="/..");return m.length>0?m+t.slice(r+d):(r+=d,47===t.charCodeAt(r)&&++r,t.slice(r))},_makeLong:function(e){return e},dirname:function(e){if(i(e),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,s=-1,o=!0,r=e.length-1;r>=1;--r)if(t=e.charCodeAt(r),47===t){if(!o){s=r;break}}else o=!1;return-1===s?n?"/":".":n&&1===s?"//":e.slice(0,s)},basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');i(e);var n,s=0,o=-1,r=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var a=t.length-1,l=-1;for(n=e.length-1;n>=0;--n){var c=e.charCodeAt(n);if(47===c){if(!r){s=n+1;break}}else-1===l&&(r=!1,l=n+1),a>=0&&(c===t.charCodeAt(a)?-1===--a&&(o=n):(a=-1,o=l))}return s===o?o=l:-1===o&&(o=e.length),e.slice(s,o)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!r){s=n+1;break}}else-1===o&&(r=!1,o=n+1);return-1===o?"":e.slice(s,o)},extname:function(e){i(e);for(var t=-1,n=0,s=-1,o=!0,r=0,a=e.length-1;a>=0;--a){var l=e.charCodeAt(a);if(47!==l)-1===s&&(o=!1,s=a+1),46===l?-1===t?t=a:1!==r&&(r=1):-1!==t&&(r=-1);else if(!o){n=a+1;break}}return-1===t||-1===s||0===r||1===r&&t===s-1&&t===n+1?"":e.slice(t,s)},format:function(e){if(null===e||"object"!==typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return r("/",e)},parse:function(e){i(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var n,s=e.charCodeAt(0),o=47===s;o?(t.root="/",n=1):n=0;for(var r=-1,a=0,l=-1,c=!0,h=e.length-1,d=0;h>=n;--h)if(s=e.charCodeAt(h),47!==s)-1===l&&(c=!1,l=h+1),46===s?-1===r?r=h:1!==d&&(d=1):-1!==r&&(d=-1);else if(!c){a=h+1;break}return-1===r||-1===l||0===d||1===d&&r===l-1&&r===a+1?-1!==l&&(t.base=t.name=0===a&&o?e.slice(1,l):e.slice(a,l)):(0===a&&o?(t.name=e.slice(1,r),t.base=e.slice(1,l)):(t.name=e.slice(a,r),t.base=e.slice(a,l)),t.ext=e.slice(r,l)),a>0?t.dir=e.slice(0,a-1):o&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,e.exports=a},5429:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ce}});var s=n(6252);const i={class:"p-index"};function o(e,t,n,o,r,a){const l=(0,s.up)("DefaultLayout");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s.Wm)(l)])}var r=n(3577);const a={class:"l-default"},l={key:1,class:"l-default-adenoid"},c={key:1,class:"l-default-logout"};function h(e,t,n,i,o,h){const d=(0,s.up)("CommonNav"),u=(0,s.up)("CommonSidebar"),f=(0,s.up)("CommonHeader"),p=(0,s.up)("CommonRoute"),m=(0,s.up)("router-view"),g=(0,s.up)("common-content");return(0,s.wg)(),(0,s.iD)("div",a,[e.isLogin?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[e.hasPermission?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d)])),_:1}),(0,s.Wm)(f),(0,s.Wm)(g,{class:(0,r.C_)(["c-common-content",{"is-collapse":h.isCollapse}])},{default:(0,s.w5)((()=>[(0,s.Wm)(p),(0,s.Wm)(m)])),_:1},8,["class"])],64)):((0,s.wg)(),(0,s.iD)("div",l,"权限不足"))],64)):((0,s.wg)(),(0,s.iD)("div",c,"请先登录"))])}var d=n(3907);const u={class:"c-sidebar-inner"};function f(e,t,n,i,o,a){const l=(0,s.up)("svg-icon");return(0,s.wg)(),(0,s.iD)("aside",{class:(0,r.C_)(["c-sidebar",{"c-sidebar--opened":a.isCollapse,"c-sidebar--closed":!a.isCollapse,"without-bread":n.withoutBread}])},[(0,s._)("div",u,[(0,s.WI)(e.$slots,"default",{},void 0,!0)]),(0,s._)("span",{class:"c-sidebar-toggle",onClick:t[0]||(t[0]=(...e)=>a.toggleCollapse&&a.toggleCollapse(...e))},[(0,s.Wm)(l,{class:(0,r.C_)(["u-toggle-icon",{collapse:a.isCollapse}]),name:"expand",w:20,h:20},null,8,["class"])])],2)}var p={name:"CommonSidebar",props:{withoutBread:{type:Boolean,default:!0}},computed:{...(0,d.Se)({sidebar:"sidebar"}),isCollapse(){return this.sidebar.opened}},methods:{...(0,d.nv)({toggleSidebar:"app/toggleSideBar"}),toggleCollapse(){this.toggleSidebar()}}},m=n(3744);const g=(0,m.Z)(p,[["render",f],["__scopeId","data-v-36fc083e"]]);var v=g;const w={class:"c-nav"};function C(e,t,n,i,o,r){const a=(0,s.up)("nav-item"),l=(0,s.up)("el-menu"),c=(0,s.up)("el-scrollbar");return(0,s.wg)(),(0,s.iD)("div",w,[(0,s.Wm)(c,{"wrap-class":"scrollbar-wrapper"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{"default-active":r.activeMenu,"unique-opened":!1,"collapse-transition":!1,mode:"vertical"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.permissionRoutes,(e=>((0,s.wg)(),(0,s.j4)(a,{key:e.path,item:e,"base-path":e.path},null,8,["item","base-path"])))),128))])),_:1},8,["default-active"])])),_:1})])}const b={key:0};function y(e,t,n,i,o,a){const l=(0,s.up)("item"),c=(0,s.up)("el-menu-item"),h=(0,s.up)("app-link"),d=(0,s.up)("nav-item",!0),u=(0,s.up)("el-sub-menu");return n.item.hidden?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",b,[!a.hasOneShowingChild(n.item.children,n.item)||e.onlyOneChild.children&&!e.onlyOneChild.noShowingChildren||n.item.alwaysShow?((0,s.wg)(),(0,s.j4)(u,{key:1,ref:"subMenu",index:a.resolvePath(n.item.path),"popper-append-to-body":""},{title:(0,s.w5)((()=>[n.item.meta?((0,s.wg)(),(0,s.j4)(l,{key:0,icon:n.item.meta&&n.item.meta.icon,title:n.item.meta.title},null,8,["icon","title"])):(0,s.kq)("",!0)])),default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.item.children,(e=>((0,s.wg)(),(0,s.j4)(d,{key:e.path,"is-nest":!0,item:e,"base-path":a.resolvePath(e.path),class:"nest-menu"},null,8,["item","base-path"])))),128))])),_:1},8,["index"])):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[e.onlyOneChild.meta?((0,s.wg)(),(0,s.j4)(h,{key:0,to:a.resolvePath(e.onlyOneChild.path)},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{index:a.resolvePath(e.onlyOneChild.path),class:(0,r.C_)({"submenu-title-noDropdown":!n.isNest})},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{icon:e.onlyOneChild.meta.icon||n.item.meta&&n.item.meta.icon,title:e.onlyOneChild.meta.title},null,8,["icon","title"])])),_:1},8,["index","class"])])),_:1},8,["to"])):(0,s.kq)("",!0)],64))]))}var k=n(6470),T=n.n(k);function _(e){return/^(https?:|mailto:|tel:)/.test(e)}const $={class:"m-nav-item"},x={key:1};function A(e,t,n,i,o,a){const l=(0,s.up)("svg-icon");return(0,s.wg)(),(0,s.iD)("div",$,[n.icon?((0,s.wg)(),(0,s.j4)(l,{key:0,name:n.icon},null,8,["name"])):(0,s.kq)("",!0),n.title?((0,s.wg)(),(0,s.iD)("span",x,(0,r.zw)(n.title),1)):(0,s.kq)("",!0)])}var S={name:"MenuItem",props:{icon:{type:String,default:""},title:{type:String,default:""}}};const W=(0,m.Z)(S,[["render",A],["__scopeId","data-v-4689d4db"]]);var L=W;function P(e,t,n,i,o,a){return(0,s.wg)(),(0,s.j4)((0,s.LL)(a.type),(0,r.vs)((0,s.F4)(a.linkProps(n.to))),{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},16)}var D={name:"NavLink",props:{to:{type:String,required:!0}},computed:{isExternal(){return _(this.to)},type(){return this.isExternal?"a":"router-link"}},methods:{linkProps(e){return this.isExternal?{href:e,target:"_blank",rel:"noopener"}:{to:e}}}};const V=(0,m.Z)(D,[["render",P]]);var O=V,I={name:"SidebarItem",components:{Item:L,AppLink:O},props:{item:{type:Object,required:!0},isNest:{type:Boolean,default:!1},basePath:{type:String,default:""}},data(){return this.onlyOneChild=null,{}},methods:{hasOneShowingChild(e=[],t){const n=e.filter((e=>!e.hidden&&(this.onlyOneChild=e,!0)));return 1===n.length||0===n.length&&(this.onlyOneChild={...t,path:"",noShowingChildren:!0},!0)},resolvePath(e){return _(e)?e:_(this.basePath)?this.basePath:T().resolve(this.basePath,e)}}};const j=(0,m.Z)(I,[["render",y]]);var M=j,q={name:"CommonNav",props:[],components:{NavItem:M},computed:{...(0,d.Se)(["permissionRoutes"]),activeMenu(){const e=this.$route,{meta:t,path:n}=e;return t.activeMenu?t.activeMenu:n}}};const E=(0,m.Z)(q,[["render",C]]);var Z=E;const H={class:"c-header"},N={class:"c-header-inner"},R={class:"c-header-logo"},Y={href:"/",class:"c-header-logo-link"},B={class:"c-header-nav"};function K(e,t,n,i,o,r){const a=(0,s.up)("svg-icon");return(0,s.wg)(),(0,s.iD)("div",H,[(0,s._)("div",N,[(0,s._)("div",R,[(0,s._)("a",Y,[(0,s.Wm)(a,{class:"c-header-logo-icon",name:"logo",w:40,h:40})])]),(0,s._)("div",B,[(0,s.WI)(e.$slots,"default",{},void 0,!0)])]),(0,s.WI)(e.$slots,"rightContent",{},void 0,!0)])}var z={name:"CommonHeader",props:[],components:{},data:function(){return{}},computed:{},watch:{},methods:{},created:function(){},mounted:function(){}};const F=(0,m.Z)(z,[["render",K],["__scopeId","data-v-35613a3a"]]);var J=F,U=n(9963);const X={id:"tags-view-container",class:"layout-navbars-tagsview layout-navbars-tagsview-shadow"},G={class:"layout-navbars-tagsview-ul tags-style-five"},Q=["onClick","onKeypress"];function ee(e,t,n,i,o,a){const l=(0,s.up)("svg-icon"),c=(0,s.up)("router-link"),h=(0,s.up)("scroll-pane");return(0,s.wg)(),(0,s.iD)("div",X,[(0,s.Wm)(h,{ref:"scrollPane",onScroll:a.handleScroll},{default:(0,s.w5)((()=>[(0,s._)("ul",G,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.visitedViews,(e=>((0,s.wg)(),(0,s.j4)(c,{ref_for:!0,ref:"tag",key:e.path,to:{path:e.path,query:e.query,fullPath:e.fullPath},onMouseup:(0,U.iM)((t=>a.isAffix(e)?"":a.closeSelectedTag(e)),["middle"]),onContextmenu:(0,U.iM)((t=>a.openMenu(e,t)),["prevent"]),custom:""},{default:(0,s.w5)((({navigate:t})=>[(0,s._)("li",{onClick:t,onKeypress:(0,U.D2)(t,["enter"]),role:"link",class:(0,r.C_)(["layout-navbars-tagsview-ul-li",a.isActive(e)?"is-active":""])},[(0,s._)("span",null,(0,r.zw)(e.title),1),a.isAffix(e)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(l,{key:0,class:"layout-navbars-tagsview-ul-li-icon layout-icon-three",name:"ele-Close",onClick:(0,U.iM)((t=>a.closeSelectedTag(e)),["prevent","stop"])},null,8,["onClick"]))],42,Q)])),_:2},1032,["to","onMouseup","onContextmenu"])))),128))])])),_:1},8,["onScroll"]),(0,s.wy)((0,s._)("ul",{style:(0,r.j5)({left:o.left+"px",top:o.top+"px"}),class:"contextmenu"},[(0,s._)("li",{onClick:t[0]||(t[0]=e=>a.refreshSelectedTag(o.selectedTag))},"Refresh"),a.isAffix(o.selectedTag)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("li",{key:0,onClick:t[1]||(t[1]=e=>a.closeSelectedTag(o.selectedTag))},"Close")),(0,s._)("li",{onClick:t[2]||(t[2]=(...e)=>a.closeOthersTags&&a.closeOthersTags(...e))},"Close Others"),(0,s._)("li",{onClick:t[3]||(t[3]=e=>a.closeAllTags(o.selectedTag))},"Close All")],4),[[U.F8,o.visible]])])}function te(e,t,n,i,o,r){const a=(0,s.up)("el-scrollbar");return(0,s.wg)(),(0,s.j4)(a,{ref:"scrollContainer",vertical:!1,class:"scroll-container",onWheel:(0,U.iM)(r.handleScroll,["prevent"])},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default",{},void 0,!0)])),_:3},8,["onWheel"])}const ne=4;var se={name:"ScrollPane",computed:{scrollWrapper(){return this.$refs.scrollContainer.$refs.wrap$}},mounted(){this.scrollWrapper.addEventListener("scroll",this.emitScroll,!0)},beforeUnmount(){this.scrollWrapper.removeEventListener("scroll",this.emitScroll)},methods:{handleScroll(e){const t=e.wheelDelta||40*-e.deltaY,n=this.scrollWrapper;n.scrollLeft=n.scrollLeft+t/4},emitScroll(){this.$emit("scroll")},moveToTarget(e){const t=this.$refs.scrollContainer.$el,n=t.offsetWidth,s=this.scrollWrapper,i=this.$parent.$refs.tag;let o=null,r=null;if(i.length>0&&(o=i[0],r=i[i.length-1]),o===e)s.scrollLeft=0;else if(r===e)s.scrollLeft=s.scrollWidth-n;else{const t=i.findIndex((t=>t===e)),o=i[t-1],r=i[t+1],a=r.$el.offsetLeft+r.$el.offsetWidth+ne,l=o.$el.offsetLeft-ne;a>s.scrollLeft+n?s.scrollLeft=a-n:l<s.scrollLeft&&(s.scrollLeft=l)}}}};const ie=(0,m.Z)(se,[["render",te],["__scopeId","data-v-0865cc08"]]);var oe=ie,re={name:"routeIndex",components:{ScrollPane:oe},data(){return{visible:!1,top:0,left:0,selectedTag:{},affixTags:[]}},computed:{visitedViews(){return this.$store.state.tagsView.visitedViews},routes(){return this.$store.state.permission.routes}},watch:{$route(){this.addTags(),this.moveToCurrentTag()},visible(e){e?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},mounted(){this.initTags(),this.addTags()},methods:{isActive(e){return e.path===this.$route.path},isAffix(e){return e.meta&&e.meta.affix},filterAffixTags(e,t="/"){let n=[];return e.forEach((e=>{if(e.meta&&e.meta.affix){const s=T().resolve(t,e.path);n.push({fullPath:s,path:s,name:e.name,meta:{...e.meta}})}if(e.children){const t=this.filterAffixTags(e.children,e.path);t.length>=1&&(n=[...n,...t])}})),n},initTags(){const e=this.affixTags=this.filterAffixTags(this.routes);for(const t of e)t.name&&this.$store.dispatch("tagsView/addVisitedView",t)},addTags(){const{name:e}=this.$route;return e&&this.$store.dispatch("tagsView/addView",this.$route),!1},moveToCurrentTag(){const e=this.$refs.tag;this.$nextTick((()=>{for(const t of e)if(t.to.path===this.$route.path){this.$refs.scrollPane.moveToTarget(t),t.to.fullPath!==this.$route.fullPath&&this.$store.dispatch("tagsView/updateVisitedView",this.$route);break}}))},refreshSelectedTag(e){this.$store.dispatch("tagsView/delCachedView",e).then((()=>{const{fullPath:t}=e;this.$nextTick((()=>{this.$router.replace({path:"/redirect"+t})}))}))},closeSelectedTag(e){this.$store.dispatch("tagsView/delView",e).then((({visitedViews:t})=>{this.isActive(e)&&this.toLastView(t,e)}))},closeOthersTags(){this.$router.push(this.selectedTag),this.$store.dispatch("tagsView/delOthersViews",this.selectedTag).then((()=>{this.moveToCurrentTag()}))},closeAllTags(e){this.$store.dispatch("tagsView/delAllViews").then((({visitedViews:t})=>{this.affixTags.some((t=>t.path===e.path))||this.toLastView(t,e)}))},toLastView(e,t){const n=e.slice(-1)[0];n?this.$router.push(n.fullPath):"Dashboard"===t.name?this.$router.replace({path:"/redirect"+t.fullPath}):this.$router.push("/")},openMenu(e,t){const n=105,s=this.$el.getBoundingClientRect().left,i=this.$el.offsetWidth,o=i-n,r=t.clientX-s+15;this.left=r>o?o:r,this.top=t.clientY,this.visible=!0,this.selectedTag=e},closeMenu(){this.visible=!1},handleScroll(){this.closeMenu()}}};const ae=(0,m.Z)(re,[["render",ee],["__scopeId","data-v-b78c5120"]]);var le=ae;const ce={class:"c-content"};function he(e,t,n,i,o,r){return(0,s.wg)(),(0,s.iD)("div",ce,[(0,s.WI)(e.$slots,"default")])}var de={name:"CommonContent",props:[],components:{},data:function(){return{}},computed:{},watch:{},methods:{},created:function(){},mounted:function(){}};const ue=(0,m.Z)(de,[["render",he]]);var fe=ue,pe={name:"DefaultLayout",props:[],components:{CommonSidebar:v,CommonNav:Z,CommonHeader:J,CommonRoute:le,CommonContent:fe},data:function(){return{isLogin:!0,hasPermission:!0}},computed:{...(0,d.Se)({sidebar:"sidebar"}),isCollapse(){return this.sidebar.opened}},watch:{},methods:{},created:function(){},mounted:function(){}};const me=(0,m.Z)(pe,[["render",h],["__scopeId","data-v-28a2c212"]]);var ge=me,ve={name:"IndexPage",props:[],data:function(){return{}},computed:{},methods:{},created:function(){},components:{DefaultLayout:ge}};const we=(0,m.Z)(ve,[["render",o],["__scopeId","data-v-11ae581e"]]);var Ce=we}}]);
//# sourceMappingURL=429.9cf0e7c9.js.map